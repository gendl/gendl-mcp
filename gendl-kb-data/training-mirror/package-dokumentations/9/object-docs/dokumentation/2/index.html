<!DOCTYPE HTML><html lang="en"><head><title>GendL Application - BASE-AJAX-SHEET</title><meta charset="UTF-8" /><link rel="icon" type="image/x-icon" href="/static/gwl/images/favicon.ico" /><link href="/static/gwl/style/top.css" rel="stylesheet" type="text/css" /><div id="KDpTVEFOREFSRC1KQVZBU0NSSVBULVNFQ1RJT04gKDpET0tVTUVOVEFUSU9OIDIpIDpPQkpFQ1QtRE9DUyAoOlBBQ0tBR0UtRE9LVU1FTlRBVElPTlMgOSkp">
<script>
var gdliid = '/yadd';
</script>
<script src="/static/gwl/js/gdlajax1595.js"></script></div></head><body><div id="KDpNQUlOLVNFQ1RJT04gKDpET0tVTUVOVEFUSU9OIDIpIDpPQkpFQ1QtRE9DUyAoOlBBQ0tBR0UtRE9LVU1FTlRBVElPTlMgOSkp"><p><a href="/package-dokumentations/9/index.html">Package Documentation</a></p><table BGCOLOR="#eeeeff" WIDTH="100%" BORDER=0 CELLPADDING=1 CELLSPACING=0><tr><td><b><font SIZE="+1">Object: BASE-AJAX-SHEET<font SIZE=-1><i> (The :GWL Package)</i></font></font></b></td></tr><tr><td><b>Mixins: </b><a HREF="/master-index-grouped/254/index.html">BASE-HTML-SHEET</a></td></tr></table><p><h3>Description</h3>(Note: this documentation will be moved
to the specific docs for the html-format/base-ajax-sheet lens, when 
we have lens documentation working properly)

Produces a standard main-sheet for html-format which includes the
standard GDL Javascript to enable code produced with gdl-ajax-call to
work, and optionally to include the standard JQuery library.

If you want to define your own main-sheet, then there is no use for
base-ajax-sheet, you can just use base-html-sheet. But then you have
to include any needed Javascript yourself, e.g. for gdl-ajax-call
support or jQuery.

The html-format lens for base-ajax-sheet also defines a user hook function,
main-sheet-body, which produces a "No Body has been defined" message by default, 
but which you can fill in your own specific lens to do something useful for the body.</p><table WIDTH="100%" BORDER=0 CELLPADDING=1 CELLSPACING=0><tr BGCOLOR="#eeeeff"><td COLSPAN=2><b><font SIZE="+1">Input Slots (optional)</font></b></td></tr><tr><td><br></td></tr><tr><td ALIGN="LEFT"><b>AFTER-PRESENT!</b> [<i>from <a href="/master-index-grouped/254/index.html">BASE-HTML-SHEET</a></i>]  <i>void</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This is an empty function by default, but can be overridden in
the respondent of a form, to do some processing after the respondent's
<tt>write-html-sheet</tt> function runs to present the object.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>AFTER-SET!</b> [<i>from <a href="/master-index-grouped/254/index.html">BASE-HTML-SHEET</a></i>]  <i>void</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This is an empty function by default, but can be overridden in
the requestor of a form, to do some processing after the requestor's form
values are set into the specified bashee.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>BASHEE</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>]  <i>gdl object</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Object to have its settable computed-slots and/or query-plist set
from the fields on the form upon submission. Defaults to self.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>BEFORE-PRESENT!</b> [<i>from <a href="/master-index-grouped/254/index.html">BASE-HTML-SHEET</a></i>]  <i>void</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This is an empty function by default, but can be overridden in
the respondent of a form, to do some processing before the respondent's
<tt>write-html-sheet</tt> function runs to present the object. This can be
useful especially for objects which are subclasses of higher-level mixins such as
<tt>application-mixin</tt> and <tt>node-mixin</tt>, where you do not have
direct access to the <tt>write-html-sheet</tt> function and typically only define
the <tt>model-inputs</tt> function. It is not always reliable to do processing
in the <tt>model-inputs</tt> function, since some slots which depend on your
intended modifications may already have been evaluated by the time the
<tt>model-inputs</tt> function runs.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>BEFORE-RESPONSE!</b> [<i>from <a href="/master-index-grouped/254/index.html">BASE-HTML-SHEET</a></i>]  <i>void</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This is an empty function by default, but can be overridden in
a user specialization of base-html-sheet, to do some processing before the
header-plist is evaluated and before the HTTP response is actually initiated.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>BEFORE-SET!</b> [<i>from <a href="/master-index-grouped/254/index.html">BASE-HTML-SHEET</a></i>]  <i>void</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This is an empty function by default, but can be overridden in
the requestor of a form, to do some processing before the requestor's form
values are set into the specified bashee.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>BODY-CLASS</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Names the value of class attribute for the body tag. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>BODY-ONLOAD</b> <i>string of javascript or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This Javascript will go into the :onload event of the body.
Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>BODY-ONPAGESHOW</b> <i>string of javascript or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This Javascript will go into the :onpageshow event of the body.
Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>BODY-ONRESIZE</b> <i>string of javascript or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This Javascript will go into the :onresize event of the body.
Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>CHECK-SANITY?</b> [<i>from <a href="/master-index-grouped/254/index.html">BASE-HTML-SHEET</a></i>]  <i>boolean</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Determines whether a a sanity check is done (with the <tt>check-sanity</tt> function) before
presenting the response page if this page is a respondent. Default is NIL.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>DOCTYPE-STRING</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Contains the string for the doctype at the top of the document.
Default is the standard doctype for HTML5 and later.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>DOM-ID</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>]  <i>string</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This is the auto-computed dom-id which should be used for rendering
this section. If you use the main-div HTML string for rendering this object as a
page section, then you do not have to generate the :div tag yourself - the main-div
will be a string of HTML which is wrapped in the correct :div tag already.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>FORCE-VALIDATION-FOR</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>]  <i>list of gdl objects of type form-control</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> The validation-function will be forced
on these objects when a form is submitted, even if the object's html form-control does
not happen to be included in the values submitted with the form. Defaults to nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>HEAD-CLASS</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Names the value of class attribute for the head tag. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>HIDDEN?</b> [<i>from <a href="/master-index-grouped/662/index.html">VANILLA-MIXIN*</a></i>]  <i>boolean</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Indicates whether the object should effectively be a hidden-object even if specified in :objects. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>HTML-CLASS</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Names the value of class attribute for the html tag. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>HTML-SECTIONS</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>] </td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p>List of HTML sections to be scanned and possibly replaced in response to
GDL Ajax calls. Override this slot at your own risk. The default is all
sections who are most recently laid out on the respondent sheet, and
this is set programmatically every time the sheet section's main-div
is demanded.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>HTML-SECTIONS-VALID</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>] </td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p>List of valid HTML sections to be scanned and possibly replaced in response to
GDL Ajax calls. Override this slot at your own risk. The default is all
sections who are most recently laid out on the respondent sheet, and
this is set programmatically every time the sheet section's main-div
is demanded.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>INNER-HTML</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>]  <i>string</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This can be used with (str .) [in cl-who] or (:princ .) [in htmlGen]
to output this section of the page, without the wrapping :div tag [so if you use this,
your code would be responsible for wrapping the :div tag with :id (the dom-id).]
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>JS-TO-EVAL</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>]  <i>string of valid javascript</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This Javascript will be send with the Ajax response,
and evaluated after the innerHTML for this section has been replaced.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>MAIN-SHEET-BODY</b> <i>string of html</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> The main body of the page.
This can be specified as input or overridden in subclass, otherwise it defaults
to the content produced by the :output-function of the same name
in the applicable lens for  html-format.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ORDERED-FORM-CONTROLS</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>]  <i>list of gdl objects, which should be of type 'base-form-control</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p>.
<p>
[Note -- this slot is not really necessary for protecting out-of-bounds sequence references
anymore, the form-control processor protects against this by itself now].
</p>
These objects are validated and bashed first, in the order given. If the cardinality
of one form-control depends on another as in the example below, then you should list
those dependent objects first. Default is nil.
</p><dl><dt><i>examples:</i></dt><dd>
<pre>
 
...
  
  :computed-slots ((number-of-nozzles (the number-of-nozzles-form value))
	    (ordered-form-controls 
	     (append (list-elements (the inner-flange-form))
		     (list (the number-of-nozzles-form)))))
  
  :objects
  ((inner-flange-form
    :type 'menu-form-control 
    :choice-plist (list :hey "hey" :now "now")
    :default :hey
    :sequence (:size (the number-of-nozzles)))
   (number-of-nozzles-form
    :type 'text-form-control 
    :prompt "Number of Shell Nozzles Required: "
    :domain :number     
    :default 0)
</pre>
</dd></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>POSSIBLE-NILS</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>]  <i>list of keyword symbols</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Messages corresponding to form fields which could
be missing from form submission (e.g. checkbox fields). Defaults to the names
of any children or hidden-children of type  menu-form-control or
checkbox-form-control.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>PRESET-ALL?</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>]  <i>boolean</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This switch determines whether all form-controls should be preset
before the final setting, in order to allow any interdependencies to be detected
for validation or detecting changed values. If this is specified as a non-nil
value, then any nil values of (the preset?) on individual form controls will be
ignored. If this is specified as nil, then (the preset?) of individual
form-controls (default of these is also nil) will be respected. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>PROCESS-COOKIES!</b> [<i>from <a href="/master-index-grouped/254/index.html">BASE-HTML-SHEET</a></i>]  <i>void</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This is an empty function by default, but can be overridden in
a user specialization of base-html-sheet, to do some processing before the
header-plist is evaluated and before the HTTP response is actually initiated, but after
the cookies-received have been set.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>RESPONDENT</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>]  <i>gdl object</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Object to respond to the form submission. Defaults to self.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>RETURN-OBJECT</b> [<i>from <a href="/master-index-grouped/254/index.html">BASE-HTML-SHEET</a></i>]  <i>gdl object</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Default object to which control will return with the write-back-link method
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ROOT</b> [<i>from <a href="/master-index-grouped/662/index.html">VANILLA-MIXIN*</a></i>]  <i>gdl instance</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> The root-level node in this object's ``tree'' (instance hierarchy).
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>SAFE-CHILDREN</b> [<i>from <a href="/master-index-grouped/662/index.html">VANILLA-MIXIN*</a></i>]  <i>list of gdl instances</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> All objects from the :objects specification, including elements of sequences
as flat lists. Any children which throw errors come back as a plist with error information
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>STRINGS-FOR-DISPLAY</b> [<i>from <a href="/master-index-grouped/662/index.html">VANILLA-MIXIN*</a></i>]  <i>string or list of strings</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Determines how the name of objects of
this type will be printed in most places.  This defaults to the
name-for-display (generally the part's name as specified in its
parent), followed by an index number if the part is an element of a
sequence.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>TARGET</b> [<i>from <a href="/master-index-grouped/254/index.html">BASE-HTML-SHEET</a></i>]  <i>string</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Name of a browser frame or window to display this page. Default of NIL indicates to use the same window.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>TITLE</b> <i>string</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> The title of the web page. Defaults to "GendL Application -"
.followed by the strings-for-display.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>TRANSITORY-SLOTS</b> [<i>from <a href="/master-index-grouped/254/index.html">BASE-HTML-SHEET</a></i>]  <i>list of keyword symbols</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Messages corresponding to form fields which should not be retained
against Updates to the model (e.g. calls to the update! function or hitting the Update button or link in
the browser in development mode). Defaults to NIL (the empty list).
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>VISIBLE-CHILDREN</b> [<i>from <a href="/master-index-grouped/662/index.html">VANILLA-MIXIN*</a></i>]  <i>list of gdl instances</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Additional objects to display in Tatu
tree. Typically this would be a subset of
hidden-children. Defaults to NIL.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><br></tr></table><table WIDTH="100%" BORDER=0 CELLPADDING=1 CELLSPACING=0><tr BGCOLOR="#eeeeff"><td COLSPAN=2><b><font SIZE="+1">Input Slots (optional, settable)</font></b></td></tr><tr><td><br></td></tr><tr><td ALIGN="LEFT"><b>ADDITIONAL-HEADER-CONTENT</b> <i>string of valid html</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Additional tag content to go into the page header,
if you use the default main-sheet message and just fill in your own main-sheet-body, as
is the intended use of the base-ajax-sheet primitive.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ADDITIONAL-HEADER-JS-CONTENT</b> <i>valid javascript</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This javascript is added to the head of the page, just before the body.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>UI-SPECIFIC-LAYOUT-JS</b> <i>absolute uri in the browser</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p>.
This is additional JavaScript that needs to be loaded in order to initiate the layout of a user
interface. Defaults to nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>USE-JQUERY?</b> <i>boolean</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Include jquery javascript libraries in the page header?
Default nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><br></tr></table><table WIDTH="100%" BORDER=0 CELLPADDING=1 CELLSPACING=0><tr BGCOLOR="#eeeeff"><td COLSPAN=2><b><font SIZE="+1">Computed Slots</font></b></td></tr><tr><td><br></td></tr><tr><td ALIGN="LEFT"><b>DEVELOPMENT-LINKS</b> <i>string of html</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Provides the developer control links for current sheet.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><br></tr></table><table WIDTH="100%" BORDER=0 CELLPADDING=1 CELLSPACING=0><tr BGCOLOR="#eeeeff"><td COLSPAN=2><b><font SIZE="+1">GDL Functions</font></b></td></tr><tr><td><br></td></tr><tr><td ALIGN="LEFT"><b>CUSTOM-SNAP-RESTORE!</b> <i>void</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This is a hook function which applications can use to restore automatically
from a saved snapshot file.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><br></tr></table><p><h3>Examples</h3><pre>
 (in-package :gdl-user)

 (gwl:define-package :ajax-test (:export #:assembly))

 (in-package :ajax-test)

 (define-object assembly (base-ajax-sheet)

   :objects
   ((inputs-section :type 'inputs-section)

    (outputs-section :type 'outputs-section
                     :box (the viewport box)
                     :color (the inputs-section color))
   
    (viewport :type 'viewport
              :box-color (the inputs-section color))))

 (define-lens (html-format assembly)()
   :output-functions
   ((main-sheet-body
     ()
     (with-cl-who ()
       (:table 
        (:tr
         (:td (str (the inputs-section main-div)))
         (:td (str (the outputs-section main-div)))
         (:td (str (the viewport main-div)))))))))

 (define-object inputs-section (sheet-section)

   :computed-slots ((color (the menu-control value)))
  
   :objects
   ((menu-control :type 'menu-form-control
                  :choice-list (list :red :green :blue)
                  :default :red
                  :onchange (the (gdl-ajax-call 
                                  :form-controls (list (the-child)))))
   
    (little-grid :type 'grid-form-control
                 :form-control-types '(text-form-control 
                                       text-form-control 
                                       button-form-control)
                 :form-control-attributes '((:ajax-submit-on-change? t)
                                            (:ajax-submit-on-change? t))
                 :form-control-inputs 
                 (mapcar #'(lambda(row)
                             (list nil nil 
                                   (list :onclick 
                                         (the (gdl-ajax-call 
                                               :function-key :do-something!
                                               :arguments 
                                               (list (the-object row index)))))))
                         (list-elements (the-child rows)))
                 :default '((:color :number :press-me)
                            (:red 42 "OK")
                            (:blue 50 "OK"))))
   
   :computed-slots 
   ((inner-html (with-cl-who-string ()
                 (str (the little-grid form-control-string))
                 (str (the menu-control html-string)))))
   
   :functions
   ((do-something! (index)
      (format t "Processing row ~a...~%" index))))




 (define-object outputs-section (sheet-section)
   
   :input-slots (color box)
  
   :computed-slots 
   ((inner-html (with-cl-who-string ()
                 (:p "The box volume is: " (fmt "~a" (the box volume)))
                 (:p "The box color is: " 
                     ((:span :style (format nil "color: ~a" (the color)))
                      (str (the color))))))))



 (define-object viewport (base-ajax-graphics-sheet)
  
   :input-slots (box-color)

   :computed-slots ((length 300)
                    (width 300)
                    (display-list-objects (list (the box)))
                    (projection-vector (getf *standard-views* 
                                             (the view-selector value)))
                    (inner-html
                     (with-cl-who-string ()
                       (str (the view-selector html-string))
                       (str (the reset-zoom-button form-control-string))
                       (str (the raster-graphics)))))
  
   :objects ((box :type 'box 
                  :length 20 :width 25 :height 30
                  :display-controls (list :color (the box-color)))))
   
 (publish-gwl-app "/ajax-test" "ajax-test:assembly")

</pre></p><p><a href="/package-dokumentations/9/index.html">Package Documentation</a></p><p><p class="copyrightFooter">Copyright &copy; 2025 <a href="http://www.genworks.com">Genworks</a><sup>&reg;</sup> <a href="http://www.genworks.com">International</a>. All rights reserved. <i><small>Genworks Build: 1598p001</small></i></p></p></div></body></html>