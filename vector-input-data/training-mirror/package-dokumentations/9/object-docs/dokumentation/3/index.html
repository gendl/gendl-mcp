<!DOCTYPE HTML><html lang="en"><head><title>GendL Application - BASE-FORM-CONTROL</title><meta charset="UTF-8" /><link rel="icon" type="image/x-icon" href="/static/gwl/images/favicon.ico" /><link href="/static/gwl/style/top.css" rel="stylesheet" type="text/css" /><div id="KDpTVEFOREFSRC1KQVZBU0NSSVBULVNFQ1RJT04gKDpET0tVTUVOVEFUSU9OIDMpIDpPQkpFQ1QtRE9DUyAoOlBBQ0tBR0UtRE9LVU1FTlRBVElPTlMgOSkp">
<script>
var gdliid = '/yadd';
</script>
<script src="/static/gwl/js/gdlajax1595.js"></script></div></head><body><div id="KDpNQUlOLVNFQ1RJT04gKDpET0tVTUVOVEFUSU9OIDMpIDpPQkpFQ1QtRE9DUyAoOlBBQ0tBR0UtRE9LVU1FTlRBVElPTlMgOSkp"><p><a href="/package-dokumentations/9/index.html">Package Documentation</a></p><table BGCOLOR="#eeeeff" WIDTH="100%" BORDER=0 CELLPADDING=1 CELLSPACING=0><tr><td><b><font SIZE="+1">Object: BASE-FORM-CONTROL<font SIZE=-1><i> (The :GWL Package)</i></font></font></b></td></tr><tr><td><b>Mixins: </b><a HREF="/master-index-grouped/600/index.html">SKELETON-FORM-CONTROL</a>, VANILLA-MIXIN</td></tr></table><p><h3>Author</h3>Dave Cooper, Genworks</p><p><h3>Description</h3>This object can be used to represent a single HTML form control. It captures the 
initial default value, some display information such as the label, and all the standard HTML tag attributes
for the tag e.g. INPUT, SELECT, TEXTAREA. GWL will process the data types according to specific rules,
and validate the typed value according to other default rules. A custom validation-function can also 
be provided by user code. 

Sequences of these objects (with :size, :indices, :matrix, and :radial) are supported.

This facility and its documentation is expected to undergo significant and frequent upgrades in the remainder of GDL 1573 and upcoming 1575.

Current to-do list:

<ol>

<li>
Currently this works with normal HTTP form submission and full page reloading. 
We intend to make it work with AJAX and surgical page update as well.

<li>
We intend to provide inputs for all the standard tag attributes for the accompanying LABEL tag for the form control.

<li>
Additional form control elements to be included, to cover all types of form elements specified in current HTML standard from

    http://www.w3.org/TR/html401/interact/forms.html#h-17.2.1

    <ul>
      <li>button-form-control: submit buttons, reset buttons, push buttons.
      <li>checkbox-form-control: checkboxes, radio buttons (multiple of these must be able to have same name)
      <li>menu-form-control: select, along with optgroup and option.
      <li>text-form-control: single-line text input (including masked passwords) and multi-line (TEXTAREA) text input.
      <li>file-form-control: file select for submittal with a form.
      <li>hidden-form-control: input of type hidden.
      <li>object-form-control: (not sure how this is supposed to work yet).
    </ul>
</ol>


Also, we have to study and clarify the issue of under what conditions values can possibly take on nil values, 
and what constitutes a required field as opposed to a non-validated field, and whether a blank string on a text
input should be represented as a nil value or as an empty string.

Note that checkbox-form-control and menu-form-control currently get automatically included in the possible-nils.


</p><table WIDTH="100%" BORDER=0 CELLPADDING=1 CELLSPACING=0><tr BGCOLOR="#eeeeff"><td COLSPAN=2><b><font SIZE="+1">Input Slots (optional)</font></b></td></tr><tr><td><br></td></tr><tr><td ALIGN="LEFT"><b>ACCEPT</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ACCESSKEY</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>AJAX-SUBMIT-ON-CHANGE?</b> <i>boolean</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> If set to non-nil, this field's value will be sent to server upon change. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>AJAX-SUBMIT-ON-ENTER?</b> <i>boolean</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> If set to non-nil, this field's value will be sent to server upon enter. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ALIGN</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ALLOW-INVALID-TYPE?</b> <i>boolean</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> If non-nil, then values which fail the type test will still be allowed to be the value. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ALLOW-INVALID?</b> <i>boolean</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> If non-nil, then values which fail the type or validation test will still be allowed to be the value. Default is t.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ALLOW-NIL?</b> <i>boolean</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Regardless of :domain, if this is non-nil, nil values will be accepted. Defaults to t if (the default) is nil,
otherwise defaults to nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ALT</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>APPEND-ERROR-STRING?</b> <i>boolean</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Determines whether a default error string is appended to string ouput-function for
html-format (and therefore html-string computed-slot as well). Defaults to t.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>BASHEE</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>]  <i>gdl object</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Object to have its settable computed-slots and/or query-plist set
from the fields on the form upon submission. Defaults to self.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>CLASS</b> [<i>from <a href="/master-index-grouped/600/index.html">SKELETON-FORM-CONTROL</a></i>]  <i>string</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> You can use this to specify a user-defined class for the form-control. Defaults to nil, which means no class attribute will be generated.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>DEFAULT</b> <i>lisp value of a type compatible with (the domain)</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This is the initial default value for the control.
This must be specified by user code, or an error will result.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>DISABLED?</b> <i>boolean</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>DOM-ID</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>]  <i>string</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This is the auto-computed dom-id which should be used for rendering
this section. If you use the main-div HTML string for rendering this object as a
page section, then you do not have to generate the :div tag yourself - the main-div
will be a string of HTML which is wrapped in the correct :div tag already.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>DOMAIN</b> <i>keyword symbol, one of :number, :keyword, :list-of-strings, :list-of-anything, or :string</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p>.
This specifies the expected and acceptable type for the submitted form value. If possible, the
submitted value will be coerced into the specified type. The default is based upon
the Lisp type of (the default) provided as input to this object. If the default is nil,
the domain will default to :string
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>FIELD-NAME</b> [<i>from <a href="/master-index-grouped/600/index.html">SKELETON-FORM-CONTROL</a></i>]  <i>keyword symbol</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> The name of this field. Computed from the object name within the tree.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>FORCE-VALIDATION-FOR</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>]  <i>list of gdl objects of type form-control</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> The validation-function will be forced
on these objects when a form is submitted, even if the object's html form-control does
not happen to be included in the values submitted with the form. Defaults to nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>HIDDEN?</b> [<i>from <a href="/master-index-grouped/662/index.html">VANILLA-MIXIN*</a></i>]  <i>boolean</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Indicates whether the object should effectively be a hidden-object even if specified in :objects. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>HTML-SECTIONS</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>] </td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p>List of HTML sections to be scanned and possibly replaced in response to
GDL Ajax calls. Override this slot at your own risk. The default is all
sections who are most recently laid out on the respondent sheet, and
this is set programmatically every time the sheet section's main-div
is demanded.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>HTML-SECTIONS-VALID</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>] </td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p>List of valid HTML sections to be scanned and possibly replaced in response to
GDL Ajax calls. Override this slot at your own risk. The default is all
sections who are most recently laid out on the respondent sheet, and
this is set programmatically every time the sheet section's main-div
is demanded.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ID</b> [<i>from <a href="/master-index-grouped/600/index.html">SKELETON-FORM-CONTROL</a></i>]  <i>keyword symbol</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> The ID attribute for this tag. Defaults to (the field-name).
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>INNER-HTML</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>]  <i>string</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This can be used with (str .) [in cl-who] or (:princ .) [in htmlGen]
to output this section of the page, without the wrapping :div tag [so if you use this,
your code would be responsible for wrapping the :div tag with :id (the dom-id).]
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ISMAP?</b> <i>boolean</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>JS-TO-EVAL</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>]  <i>string of valid javascript</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This Javascript will be send with the Ajax response,
and evaluated after the innerHTML for this section has been replaced.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>LABEL-POSITION</b> <i>keyword symbol or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Specifies where the label tag goes, if any.
Can be :table-td (label goes in a td before the form control), :table-td-append (label goes in a td after the form control),
</p><dl><dt><i>prepend:</i></dt><dd>(label tag wraps around form control and label text comes before form control), 
</dd><dt><i>append:</i></dt><dd>(label tag wraps around form control and label text comes after form control), 
</dd><dt><i>table-with-class:</i></dt><dd>(like :table-td, but adds a class "form-control" to the table), or 
</dd><dt><i>as-div:</i></dt><dd>(puts label and control inside a div of class "form-control"). 
Default is :as-div
</dd></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>LANG</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>MAXLENGTH</b> <i>number or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>NULLIFY-EMPTY-STRING?</b> <i>boolean</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Regardless of :domain, if this is non-nil, empty strings will convert to nil. Defaults to (the allow-nil?)
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ONBLUR</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ONCHANGE</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil, unless ajax-submit-on-change? is non-nil, in which case it calls ajax to set current form value.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ONCLICK</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ONDBLCLICK</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ONENTER</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil, unless ajax-submit-on-enter? is non-nil, in which case it calls ajax to set current form value.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ONFOCUS</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ONKEYDOWN</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ONKEYPRESS</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ONKEYUP</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ONMOUSEDOWN</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ONMOUSEMOVE</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ONMOUSEOUT</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ONMOUSEOVER</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ONMOUSEUP</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ONSELECT</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ORDERED-FORM-CONTROLS</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>]  <i>list of gdl objects, which should be of type 'base-form-control</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p>.
<p>
[Note -- this slot is not really necessary for protecting out-of-bounds sequence references
anymore, the form-control processor protects against this by itself now].
</p>
These objects are validated and bashed first, in the order given. If the cardinality
of one form-control depends on another as in the example below, then you should list
those dependent objects first. Default is nil.
</p><dl><dt><i>examples:</i></dt><dd>
<pre>
 
...
  
  :computed-slots ((number-of-nozzles (the number-of-nozzles-form value))
	    (ordered-form-controls 
	     (append (list-elements (the inner-flange-form))
		     (list (the number-of-nozzles-form)))))
  
  :objects
  ((inner-flange-form
    :type 'menu-form-control 
    :choice-plist (list :hey "hey" :now "now")
    :default :hey
    :sequence (:size (the number-of-nozzles)))
   (number-of-nozzles-form
    :type 'text-form-control 
    :prompt "Number of Shell Nozzles Required: "
    :domain :number     
    :default 0)
</pre>
</dd></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>PLACEHOLDER</b> <i>string</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Text to place in the field by default, overwritten as soon as the field is selected. Works only in HTML5. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>POSSIBLE-NILS</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>]  <i>list of keyword symbols</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Messages corresponding to form fields which could
be missing from form submission (e.g. checkbox fields). Defaults to the names
of any children or hidden-children of type  menu-form-control or
checkbox-form-control.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>PRESET-ALL?</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>]  <i>boolean</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This switch determines whether all form-controls should be preset
before the final setting, in order to allow any interdependencies to be detected
for validation or detecting changed values. If this is specified as a non-nil
value, then any nil values of (the preset?) on individual form controls will be
ignored. If this is specified as nil, then (the preset?) of individual
form-controls (default of these is also nil) will be respected. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>PRESET?</b> <i>boolean</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This switch determines whether this form-control should be preset before the final setting,
in order to allow any interdependencies to be detected for validation or detecting changed values. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>PRIMARY?</b> [<i>from <a href="/master-index-grouped/600/index.html">SKELETON-FORM-CONTROL</a></i>]  <i>boolean</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Set this to t if the form-control should always occur first in an outputted snapshot file.
Defaults to nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>PROMPT</b> <i>string</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> The prompt used in the label.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>READONLY?</b> <i>boolean</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ROOT</b> [<i>from <a href="/master-index-grouped/662/index.html">VANILLA-MIXIN*</a></i>]  <i>gdl instance</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> The root-level node in this object's ``tree'' (instance hierarchy).
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>SAFE-CHILDREN</b> [<i>from <a href="/master-index-grouped/662/index.html">VANILLA-MIXIN*</a></i>]  <i>list of gdl instances</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> All objects from the :objects specification, including elements of sequences
as flat lists. Any children which throw errors come back as a plist with error information
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>SIZE</b> <i>number or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>SRC</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>STRINGS-FOR-DISPLAY</b> [<i>from <a href="/master-index-grouped/662/index.html">VANILLA-MIXIN*</a></i>]  <i>string or list of strings</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Determines how the name of objects of
this type will be printed in most places.  This defaults to the
name-for-display (generally the part's name as specified in its
parent), followed by an index number if the part is an element of a
sequence.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>STYLE</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>TABINDEX</b> <i>integer or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>TITLE</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>USEMAP</b> <i>string or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Maps to HTML form control attribute of the same name. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>VALIDATION-FUNCTION</b> <i>function of one argument</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> The argument will be the submitted form value converted to the proper type.
The return value from this function can be nil, any non-nil value, or a plist with keys :validated-value
and :error. The following behavior applies:
<ul>
<li> If the function returns nil, error is set to  :unspecified-validation-fail.</li>
<li> If the function returns a plist with keys :validated-value and :error, and if :error is non-nil,
it means the value is not acceptable, the form-controls error message is set to this error (usually a keyword symbol),
and the error string will be appended to the html-string by default. </li>
<li> If the function returns any other value, then the properly typed submitted form value is considered valid and is used.
</ul>
In the case of an error, the form-control's failed-value message is set to the properly typed submitted form value. If
allow-invalid? is non-nil, then the form-control's value message is also set to this value (i.e. the invalid value is
still accepted, even though a non-nil error is present).
Default is (list :validated-value value :error nil).
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>VISIBLE-CHILDREN</b> [<i>from <a href="/master-index-grouped/662/index.html">VANILLA-MIXIN*</a></i>]  <i>list of gdl instances</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Additional objects to display in Tatu
tree. Typically this would be a subset of
hidden-children. Defaults to NIL.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><br></tr></table><table WIDTH="100%" BORDER=0 CELLPADDING=1 CELLSPACING=0><tr BGCOLOR="#eeeeff"><td COLSPAN=2><b><font SIZE="+1">Input Slots (optional, defaulting)</font></b></td></tr><tr><td><br></td></tr><tr><td ALIGN="LEFT"><b>RESPONDENT</b> [<i>from <a href="/master-index-grouped/52/index.html">SKELETON-UI-ELEMENT</a></i>]  <i>gdl object</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Object to respond to the form submission. Defaults to self.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><br></tr></table><table WIDTH="100%" BORDER=0 CELLPADDING=1 CELLSPACING=0><tr BGCOLOR="#eeeeff"><td COLSPAN=2><b><font SIZE="+1">Computed Slots (settable)</font></b></td></tr><tr><td><br></td></tr><tr><td ALIGN="LEFT"><b>ERROR</b> <i>string or error object</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This will be set to a validation error if any,
and cleared when the error is gone.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>FAILED-VALUE</b> <i>lisp value</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> The value which was attempted to be set but failed validation.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>VALUE</b> <i>lisp value</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> The current value of this form control.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><br></tr></table><table WIDTH="100%" BORDER=0 CELLPADDING=1 CELLSPACING=0><tr BGCOLOR="#eeeeff"><td COLSPAN=2><b><font SIZE="+1">GDL Functions</font></b></td></tr><tr><td><br></td></tr><tr><td ALIGN="LEFT"><b>RESTORE-DEFAULTS!</b> <i>void</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Restores the default for the value, the failed-value, and the error.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><br></tr></table><p><h3>Examples</h3>
<pre>

 (in-package :gwl-user)

 (define-object test-form (base-html-sheet)
  
   :objects
   ((username :type 'text-form-control
              :size 35
              :maxlength 30
              :allow-nil? t
              :default "Ron Paul")
   
    (age :type 'text-form-control
         :size 5
         :validation-function #'(lambda(input) (or (null input) (> 80 input 70)))
         :domain :number
         ;;:default 72
         :default nil )
   
    (bio :type 'text-form-control
         :rows 8
         :size 120
         :default "
Congressman Ron Paul is the leading advocate for freedom in our nation's capital. 
As a member of the U.S. House of Representatives, Dr. Paul tirelessly works for 
limited constitutional government, low taxes, free markets, and a return to sound 
monetary policies. He is known among his congressional colleagues and his constituents 
for his consistent voting record. Dr. Paul never votes for legislation unless the 
proposed measure is expressly authorized by the Constitution. In the words of former 
Treasury Secretary William Simon, Dr. Paul is the one exception to the Gang of 535 on 
Capitol Hill.")
   
    (issues :type 'menu-form-control
            :choice-list (list "Taxes" "Health Care" "Foreign Policy")
            :default "Taxes"
            :multiple? t)
   
    (color :type 'menu-form-control
           :size 7
           :choice-plist (list :red "red" 
                               :green "green" 
                               :blue "blue" 
                               :magenta "magenta" 
                               :cyan "cyan" 
                               :yellow "yellow" 
                               :orange "orange")
           :validation-function #'(lambda(color)
                                    (if (intersection (ensure-list color) 
                                                      (list :yellow :magenta))
                                        (list :error :disallowed-color-choice)
                                      t))
           ;;:append-error-string? nil
           :multiple? t
           :default :red
           ;;:onchange "alert('hey now');" 
           )
   
    (early-riser? :type 'checkbox-form-control
                  :default nil)
   
    (favorite-links :type 'text-form-control
                    :sequence (:size 3)
                    :size 70
                    :default "http://")))

 (define-lens (html-format test-form)()
   :output-functions
   ((main-sheet
     ()
     (with-html-output (*html-stream* nil :indent t)
       (:html (:head (:title "Test Form"))
              (:body (:h2 (:center "Test Form"))
                     (the write-development-links)
                     (with-html-form (:cl-who? t)
                       (:p (str (the username html-string)))
                       (:p "(internal value is: " (fmt "~s" (the username value)) ")")
                       (:p (str (the age html-string)))
                       (:p "(internal value is: " (fmt "~s" (the age value)) ")")
                       (:p (str (the bio html-string)))
                       (:p (:table 
                            (:tr (:td (str (the issues html-string))))
                            (:tr (:td (str (the color html-string))))))
                       (:p (str (the early-riser? html-string)))
                      
                       (dolist (link (list-elements (the favorite-links)))
                         (htm (str (the-object link html-string))))
                      
                       (:p ((:input :type :submit :value " OK "))))))))))
 
 (publish :path "/fe"
          :function #'(lambda(req ent)
                        (gwl-make-object req ent "gwl-user::test-form")))
</pre>
</p><p><a href="/package-dokumentations/9/index.html">Package Documentation</a></p><p><p class="copyrightFooter">Copyright &copy; 2025 <a href="http://www.genworks.com">Genworks</a><sup>&reg;</sup> <a href="http://www.genworks.com">International</a>. All rights reserved. <i><small>Genworks Build: 1598p001</small></i></p></p></div></body></html>