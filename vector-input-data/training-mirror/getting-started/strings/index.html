<!DOCTYPE HTML><html lang="en"><head><title>Characters and strings</title><meta charset="UTF-8" /><link rel="icon" type="image/png" href="/gorn.png" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="stylesheet" href="/css/training-style.css" /><script src="/static/3rdpty/x3dom/x3dom.js" id="x3dom_script"></script><script id="svg-panzoom" src="/static/3rdpty/svgpanzoom/svg-pan-zoom.min.js"></script><script>
var gdliid = '/shared';</script><script src="/static/gwl/js/gdlajax1595.js"></script></head><body><div class="container mx-auto"><div class="main-page-item"><div class="mt-1 ml-2 mr-5"><h2>Characters and strings</h2><p><a class="text-red-500" href="/getting-started/building-example/index.html">&lt;-Previous</a><span class="font-bold"> | </span><a class="text-blue-500" href="/getting-started/index.html">^UP^</a><span class="font-bold"> | </span><a class="text-green-500" href="/getting-started/formatted-output/index.html">Next-&gt;</a></p><div class="main-page-container"><div class="main-page-item"><div class="grid-container-2-650px"><div class="grid-item"><h3>Character and String definitions</h3><p><em><b>Characters</b></em> are denoted with a # prefix, whilst <em><b>Strings</b></em> are represented textually as a series of characters between double
quotes. Because Strings are sequences of Characters, any function
which acts upon a sequence can be used on a string. Because a string
is represented textually as characters enclosed in double quotes, if
you want to include literal double quotes in your string you need to
escape them with \ (backslash) characters. If you want to include a
literal backslash (\) it needs to be escaped with another backslash</p><div class="repl-example"><pre><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq str "Introduction to GendL")</span></p><span class="output">"Introduction to GendL"</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(reverse str)</span></p><span class="output">"LdneG ot noitcudortnI"</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(length str)</span></p><span class="output">21</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq escaped-str "Introduction to "GendL"")</span></p><span class="output">"Introduction to "GendL""</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(length escaped-str)</span></p><span class="output">23</span></pre></div><h3>Character Comparison</h3><p>Recall from the Equality tutorial that, because a character is an object with the same symbol, any of the tests <span class="function">EQ</span>, <span class="function">EQL</span>, <span class="function">EQUAL</span> or <span class="function">EQUALP</span> will work with characters. Additionally the function <span class="function">char=</span> may be used, which accepts any number of arguments and will return T if the arguments are all the same character. The case-insensitive version is <span class="function">char-equal</span></p><div class="repl-example"><pre><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq a #c)</span></p><span class="output">#c</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq b #c)</span></p><span class="output">#c</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq c #C)</span></p><span class="output">#C</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(and (eq a b) (eql a b) (equal a b) (equalp a b))</span></p><span class="output">T</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(char= a b)</span></p><span class="output">T</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(char= a c)</span></p><span class="output">NIL</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(char-equal a c)</span></p><span class="output">T</span></pre></div><h3>String Comparison</h3><p>Recall from the Equality tutorial that <span class="function">equal</span> will return T for 2 identical strings and <span class="function">equalp</span> will return T for 2 strings which are identical ignoring case. <span class="function">string=</span> and <span class="function">string-equal</span> will give the same result as <span class="function">equal</span> and <span class="function">equalp</span>, but additionally provide keyword arguments :start1, :end1, start2, end2 which enable substrings to be tested</p><div class="repl-example"><pre><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq str1 "genworks")</span></p><span class="output">"genworks"</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq str2 "Genworks")</span></p><span class="output">"Genworks"</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(string= str1 str2)</span></p><span class="output">NIL</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(string= str1 str2 :start1 1 :start2 1)</span></p><span class="output">T</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(string-equal str1 str2)</span></p><span class="output">T</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(string-equal str1 str2 :start1 2)</span></p><span class="output">NIL</span></pre></div><h3>String Searching/Ordering</h3><p>When searching or ordering strings, some extra arguments to the functions may be required, because the default test for equality is <span class="function">EQL</span> which, you may recall, will not return T for two identical strings. The keyword input <span class="object-keyword">:test</span> generally has to be specified to be an equality test which works with strings, for example <span class="function">string-equal</span></p><div class="repl-example"><pre><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq str "GendL")</span></p><span class="output">NIL</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(position "l" str)</span></p><span class="output">NIL</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(position "l" str :test 'string=))</span></p><span class="output">NIL</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(position "l" str :test 'string-equal))</span></p><span class="output">4</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq lis (list "Peter" "Paul" "John" "Craig"))</span></p><span class="output">("Peter" "Paul" "John" "Craig")</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(safe-sort lis 'string<)</span></p><span class="output">("Craig""John" "Paul" "Peter")</span></pre></div><h3>String Building</h3><p>One of the easiest ways to build strings is with the CL <span class="function">format</span> function. We will come onto it in the next tutorial but for now it can be though of as a function which defines a format template that you define and then assign specific strings to. At its most basic, the CL function <span class="function">concatenate</span> can achieve the same output</p><p>To assemble a string from a list of strings using concatenate the apply function must be used</p><div class="repl-example"><pre><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq str1 "Introduction")</span></p><span class="output">"Introduction"</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq str2 "To")</span></p><span class="output">"To"</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq str3 "GendL")</span></p><span class="output">"GendL"</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(format nil "~a ~a ~a" str1 str2 str3)</span></p><span class="output">"Introduction to GendL"</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(concatenate 'string str1 " " str2 " " str3)</span></p><span class="output">"Introduction to GendL"</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq lis (list "My" "List" "of" "strings"))</span></p><span class="output">("My" "List" "of" "strings")</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(apply #'concatenate 'string lis)</span></p><span class="output">"MyListofstrings"</span></pre></div><h3>String Destructuring</h3><p>Strings may be taken apart using the subseq function.</p><div class="repl-example"><pre><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq str1 "Introduction")</span></p><span class="output">"Introduction"</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(subseq str1 3)</span></p><span class="output">"roduction"</span></pre></div></div></div></div><div class="main-page-item"><h2>Resources</h2><table><tr><td><a href="/t2-resources/strings.lisp"><img src="/common-images/lisp-file.png" style="width: 40px; height: auto;" /></a></td><td><a href="/t2-resources/strings.lisp">strings.lisp</a></td></tr></table></div></div></div></div></div></body></html>