<!DOCTYPE HTML><html lang="en"><head><title>Instantiating objects in Geysr</title><meta charset="UTF-8" /><link rel="icon" type="image/png" href="/gorn.png" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="stylesheet" href="/css/training-style.css" /><script src="/static/3rdpty/x3dom/x3dom.js" id="x3dom_script"></script><script id="svg-panzoom" src="/static/3rdpty/svgpanzoom/svg-pan-zoom.min.js"></script><script>
var gdliid = '/shared';</script><script src="/static/gwl/js/gdlajax1595.js"></script></head><body><div class="container mx-auto"><div class="main-page-item"><div class="mt-1 ml-2 mr-5"><h2>Instantiating objects in Geysr</h2><p><a class="text-red-500" href="/getting-started/instantiate-repl/index.html">&lt;-Previous</a><span class="font-bold"> | </span><a class="text-blue-500" href="/getting-started/index.html">^UP^</a><span class="font-bold"> | </span><a class="text-green-500" href="/getting-started/object-definition/index.html">Next-&gt;</a></p><p>As a companion to the REPL interaction described on the previous slide, you can use the built-in
Geysr object browser.</p><p>Geysr is particularly helpful when working with geometry,
as it includes a viewport for rendering the geometry.</p><p>Assuming the Gendl web server is running on port 9000, Geysr may be accessed at <a href="http://localhost:9000/geysr">http://localhost:9000/geysr</a>.</p><div class="grid-container-2"><div class="grid-item"><p>When Geysr is opened, a splash screen is displayed:</p></div><div class="grid-item"><img src="/t2-images/geysr-splash.png" style="width: auto; height: 200px;" /></div><div class="grid-item"><p>To instantiate a compiled object, select:</p><p><b>File..New</b>, and in the text field enter the desired package name and the object
type name separated by <b>::</b></p><p>For the example code in the Resources section, this will be <code>gdl-user::my-box-1</code>.</p><p>Press <b>Enter</b> to instantiate the object.</p></div><div class="grid-item"><img src="/t2-images/geysr-file-new.png" style="width: auto; height: 100px;" /><br /><img src="/t2-images/geysr-package-object.png" style="width: auto; height: 100px;" /></div><div class="grid-item"><p>The object will be instantiated, and all of its available slots will
be displayed in the <i>Inspector</i> pane in the lower Left-hand section of the browser window.</p><p>Note that most slots will initially be shown as <em>unbound</em>.</p><p>Clicking on the <em>unbound</em> link will cause the value of the associated
slot to be evaluated. In the lower screenshot the slot <span class="slot">length</span> has been evaluated and returns <span class="value">4</span>.</p></div><div class="grid-item"><img src="/t2-images/geysr-instantiate.png" style="width: auto; height: 200px;" /><br /><img src="/t2-images/geysr-eval.png" style="width: auto; height: 200px;" /></div><div class="grid-item"><p>To draw the geometry: first click or tap </p><p><b>Mode</b> and ensure <b>Add Leaves</b> is selected with a checkmark</p></div><div class="grid-item"><img src="/t2-images/geysr-add-leaves.png" style="width: auto; height: 100px;" /></div><div class="grid-item"><p>Then left mouse click or tap on the object name just below the menu bar (in this case <code>GDL-USER::MY-BOX-1</code>), and the geometry will be displayed in the main viewport</p><p>The geometry camera view may be changed by selecting <b>View..Perspective</b> and picking any of the pre-defined orientations such a top or left.</p><p>The geometry viewport may be cleared by selecting <b>View..Clear!</b></p></div><div class="grid-item"><img src="/t2-images/geysr-geometry.png" style="width: auto; height: 400px;" /></div><div class="grid-item"><p>By selecting <b>Mode..Set Self...</b> then clicking on any object in the tree pane at upper-left,
the toplevel value of <span class="variable-name">self</span> will be set to that object, to similar effect
as typing <code>(setq self (make-object 'my-box-1))</code> at the REPL. You may then evaluate any slot in
my-box-1 at the REPL</p></div><div class="grid-item"><div class="repl-example"><pre><span class="comment">Self is now set to to #&#60;MY-BOX-1 #x210500D41D>, you may use command-line interaction....</span><span class="comment">127.0.0.1 - - [Thu, 02 Jun 2022 09:00:48 GMT] "POST /gdlAjax HTTP/1.1" 200 222</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(the)</span></p><span class="output">#&#60;MY-BOX-1 #x210500D41D></span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(the length)</span></p><span class="output">2</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(the height)</span></p><span class="output">4</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(the width)</span></p><span class="output">3</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(the volume)</span></p><span class="output">24</span></pre></div></div></div><h3>Creating Fresh Instances</h3><p><p><strong>Note</strong>: <strong>File..New</strong> is currently <strong>only</strong> supported for a <em>Fresh Web Browser Tab</em>. </p><p>It is not currently supported to make a fresh instance in an existing Geysr browser tab or window. </p><p>So, if you'd like to make a new, fresh instance (of the same or a different type), </p><p>then follow these steps: </p><ol><li><p>Open a <em>new</em> Web Browser tab or window. </p></li><li><p>Visit the toplevel  <a href="/geysr">Geysr url</a>. </p></li><li>Click or tap <strong>File..New</strong> and proceed as in the <strong>File..New</strong> section above. </li></ol></p><h3>Updating Existing Instances after a Code Change</h3><p>If you want to see the results of a change you've made to the code
and loaded into the running session (don't worry, you will learn how
compile & load code changes later), then select the <b>Update</b> mode (click or tap <b>Mode..Update...</b>),
and finally click in the tree on the object for which you would like
to unload any cached results it may be holding, and let the system
recompute fresh everything based on your latest code (typically the
node you click to <b>Update</b> will simply be the root object in the tree).</p><p><p>This recomputation forms one of the steps of a five-step iterative </p><p>process you'll typically follow when developing using Geysr: </p><ol><li><p>Author your desired code (new code or changes to existing code). </p></li><li><p>Compile the code and load it into the running session (compiling is optional but recommended). </p></li><li><p>Update the instance in the running Geysr session to reflect the new code. </p></li><li><p>Inspect and poke around with the results in the various panes of Geysr </p></li><li><p>Based on said results, return to Step 1 above and repeat. </p></li></ol><p>Your typical development session will include many iterations of the </p><p>above five steps. Depending on the situation at hand it is possible to </p><p>complete a single iteration very quickly, sometimes in less than one </p><p>minute. This rapid iteration potential is one of the upsides of </p><p>becoming proficient with GendL combined with Geysr. </p></p><h3>A Note on Symbol Names</h3><p><p>Note that object type names in Gendl (as in Common Lisp) have two parts: </p><ol><li><p>a Package name </p></li><li><p>a Symbol name </p></li></ol><p>These can be written together separated by a double colon (<code>::</code>). </p> For example, the symbol naming our <span class="object">my-box-1</span> definition was introduced into the system while the <span class="package-name">gdl-user</span> package was active, or
"current" &mdash; therefore you can refer to this definition with the fully qualified symbol
name: <span class="package-name">gdl-user</span><code>::</code><span class="object">my-box-1</span><p>Sometimes it is possible to use a single colon (<code>:</code>) rather than a </p><p>double colon (<code>::</code>), and often it is possible to omit the package name </p><p>entirely when referring to a symbol. </p><p>That's enough on Packages and Symbols for now. You will learn more about Packages and Symbols later. </p></p><h2>Resources</h2><table><tr><td><a href="/t2-resources/my-box-1.lisp"><img src="/common-images/lisp-file.png" style="width: 40px; height: auto;" /></a></td><td><a href="/t2-resources/my-box-1.lisp">my-box-1.lisp</a></td></tr></table></div></div></div></body></html>