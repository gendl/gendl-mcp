<!DOCTYPE HTML><html lang="en"><head><title>Useful Slots</title><meta charset="UTF-8" /><link rel="icon" type="image/png" href="/gorn.png" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="stylesheet" href="/css/training-style.css" /><script src="/static/3rdpty/x3dom/x3dom.js" id="x3dom_script"></script><script id="svg-panzoom" src="/static/3rdpty/svgpanzoom/svg-pan-zoom.min.js"></script><script>
var gdliid = '/shared';</script><script src="/static/gwl/js/gdlajax1595.js"></script></head><body><div class="container mx-auto"><div class="main-page-item"><div class="mt-1 ml-2 mr-5"><h2>Useful Slots</h2><p><span class="font-bold"> | </span><a class="text-blue-500" href="/more-objects/index.html">^UP^</a><span class="font-bold"> | </span><a class="text-green-500" href="/more-objects/trickle-down-slots/index.html">Next-&gt;</a></p><div class="grid-container-2-650px"><div class="grid-item"><p>All GendL objetcs use, or mix in, the <span class="object">Vanilla-Mixin*</span> object. The full set of messages supported by this object are documented in YADD, but its worth highlighting a few in particular that are useful for application development and application debugging/inspection</p><h3>Application Development</h3><ul><li><span class="slot">strings-for-display</span> - changes the display name used, for example, by Geysr to the specified string. It is specified as an inut to the object, and over-rides the default name<div class="code-example"><pre><span class="code" style="margin-left: 0px;">(define-object name-display (base-object)</span><span class="code" style="margin-left: 7px;">:objects</span><span class="code" style="margin-left: 14px;">((my-named-object :type 'box</span><span class="code" style="margin-left: 140px;">:strings-for-display "My Custom Box"</span><span class="code" style="margin-left: 140px;">:length 3</span><span class="code" style="margin-left: 140px;">:width 4</span><span class="code" style="margin-left: 140px;">:height 5)))</span></pre></div><image src="/t5-images/strings-for-display.png" style="margin: 5px 0 0 3% ;width: auto; height: 200px;"></image></li><li><span class="slot">root</span> - from anywhere in the objet tree this will return the object corrssponding to the root node<div class="repl-example"><pre><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq self (make-object 'name-display))</span></p><span class="output">#NAME-DISPLAY #x210408140D></span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq self (the my-named-object))</span></p><span class="output">#&#60;BOX #x2104080FFD></span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(the root)</span></p><span class="output">#NAME-DISPLAY #x210408140D></span></pre></div></li><li><span class="slot">children</span> - returns a list of child objects. This is equivalent to <em><b>(list-elements (the))</b></em>. A variant is <span class="slot">safe-children</span> which will return a plist with error information for an child objects which throws an error<div class="repl-example"><pre><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq self (make-object 'name-display))</span></p><span class="output">#NAME-DISPLAY #x210408140D></span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(the children)</span></p><span class="output">(#&#60;BOX #x2104080FFD>)</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(the safe-children</span></p><span class="output">(#&#60;BOX #x2104080FFD>)</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(list-elements (the))</span></p><span class="output">(#&#60;BOX #x2104080FFD>)</span></pre></div></li><li><span class="slot">parent</span> - returns the parent object. Care should be taken when using this message since it may impact reusability of an object if the object is used in multiple places and this is used to reference a particular slot/message in the parent object; if the object can be used by mutiple objects then it implies that slot/message must be supported wherever this is used as a child object<div class="repl-example"><pre><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq self (make-object 'name-display))</span></p><span class="output">#NAME-DISPLAY #x210408140D></span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq self (the my-named-object))</span></p><span class="output">#&#60;BOX #x2104080FFD></span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(the parent)</span></p><span class="output">#NAME-DISPLAY #x210408140D></span></pre></div></li></ul><h3>Application Debugging/Inspection</h3><ul><li><span class="slot">type</span> - returns the type of the current object<div class="repl-example"><pre><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq self (make-object 'name-display))</span></p><span class="output">#NAME-DISPLAY #x210408140D></span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(the type)</span></p><span class="output">#NAME-DISPLAY #x210408140D></span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq self (the my-named-object))</span></p><span class="output">#&#60;BOX #x2104080FFD></span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(the type)</span></p><span class="output">#&#60;BOX #x2104080FFD></span></pre></div></li><li><span class="slot">all-mixins</span> - returns a list of the mixins used by the current-object. Note that this is generated recursively, so if the mixin specified in the define-object specification itself has one or more mixins, these will be included. Any duplicates are removed<div class="repl-example"><pre><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(setq self (make-object 'name-display))</span></p><span class="output">#NAME-DISPLAY #x210408140D></span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(the all-mixins)</span></p><span class="output">(BASE-OBJECT VANILLA-MIXIN VANILLA-MIXIN* STANDARD-OBJECT T GENDL::GDL-BASIS)</span></pre></div>Note that the typep predicate examines the all-mixins list and will return t if the specified object being tested has a miixin of the type tested against. This can be particularly useful for 'tagging' objects of different types, by just mixing in an empty object and using typep against that empty object<div class="code-example"><pre><span class="code" style="margin-left: 0px;">(define-object object-tagging (base-object)</span><span class="code" style="margin-left: 14px;">:computed-slots</span><span class="code" style="margin-left: 14px;">((all-geometry (remove nil</span><span class="code" style="margin-left: 175px;">(mapcar #'(lambda(a) (when (typep a 'all-geometry-mixin) a))</span><span class="code" style="margin-left: 245px;">(the children))))</span><span class="code" style="margin-left: 21px;">(3d-shapes (remove nil</span><span class="code" style="margin-left: 154px;">(mapcar #'(lambda(a) (when (typep a '3d-shape-mixin) a))</span><span class="code" style="margin-left: 224px;">(the children)))))</span><span class="code" style="margin-left: 0px;"></span><span class="code" style="margin-left: 14px;">:objects</span><span class="code" style="margin-left: 14px;">((my-box :type 'my-box</span><span class="code" style="margin-left: 77px;">:length 3</span><span class="code" style="margin-left: 77px;">:width 4</span><span class="code" style="margin-left: 77px;">:height 5)</span><span class="code" style="margin-left: 21px;">(my-sphere :type 'my-sphere</span><span class="code" style="margin-left: 98px;">:radius 4)</span><span class="code" style="margin-left: 21px;">(my-line :type 'my-line</span><span class="code" style="margin-left: 84px;">:start (make-point 0 0 0)</span><span class="code" style="margin-left: 84px;">:end (make-point 10 0 0))))</span><span class="code" style="margin-left: 0px;"></span><span class="code" style="margin-left: 0px;">(define-object my-box (box</span><span class="code" style="margin-left: 161px;">3d-shape-mixin</span><span class="code" style="margin-left: 161px;">all-geometry-mixin))</span><span class="code" style="margin-left: 0px;"></span><span class="code" style="margin-left: 0px;">(define-object my-sphere (sphere</span><span class="code" style="margin-left: 182px;">3d-shape-mixin</span><span class="code" style="margin-left: 182px;">all-geometry-mixin))</span><span class="code" style="margin-left: 0px;"></span><span class="code" style="margin-left: 0px;">(define-object my-line (line</span><span class="code" style="margin-left: 168px;">all-geometry-mixin))</span><span class="code" style="margin-left: 0px;"></span><span class="code" style="margin-left: 0px;">(define-object all-geometry-mixin())</span><span class="code" style="margin-left: 0px;"></span><span class="code" style="margin-left: 0px;">(define-object 3d-shape-mixin())</span></pre></div><div class="repl-example"><pre><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(make-self 'object-tagging)</span></p><span class="output">#&#60;OBJECT-TAGGING #x210500014D></span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(the all-geometry)</span></p><span class="output">(#&#60;MY-BOX #x210500566D> #&#60;MY-SPHERE #x2105004DCD> #&#60;MY-LINE #x21050045FD>)</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(the 3d-shapes)</span></p><span class="output">(#&#60;MY-BOX #x210500566D> #&#60;MY-SPHERE #x2105004DCD>)</span></pre></div></li></ul></div><div class="grid-item"><h2>Resources</h2><table><tr><td><a href="/t5-resources/strings-for-display.lisp"><img src="/common-images/lisp-file.png" style="width: 40px; height: auto;" /></a></td><td><a href="/t5-resources/strings-for-display.lisp">strings-for-display.lisp</a></td></tr><tr><td><a href="/t5-resources/object-tagging.lisp"><img src="/common-images/lisp-file.png" style="width: 40px; height: auto;" /></a></td><td><a href="/t5-resources/object-tagging.lisp">object-tagging.lisp</a></td></tr></table></div></div></div></div></div></body></html>