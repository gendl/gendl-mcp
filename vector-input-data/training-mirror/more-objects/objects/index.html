<!DOCTYPE HTML><html lang="en"><head><title>:objects</title><meta charset="UTF-8" /><link rel="icon" type="image/png" href="/gorn.png" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="stylesheet" href="/css/training-style.css" /><script src="/static/3rdpty/x3dom/x3dom.js" id="x3dom_script"></script><script id="svg-panzoom" src="/static/3rdpty/svgpanzoom/svg-pan-zoom.min.js"></script><script>
var gdliid = '/shared';</script><script src="/static/gwl/js/gdlajax1595.js"></script></head><body><div class="container mx-auto"><div class="main-page-item"><div class="mt-1 ml-2 mr-5"><h2>:objects</h2><p><a class="text-red-500" href="/more-objects/trickle-down-slots/index.html">&lt;-Previous</a><span class="font-bold"> | </span><a class="text-blue-500" href="/more-objects/index.html">^UP^</a><span class="font-bold"> | </span><a class="text-green-500" href="/more-objects/settable-slots/index.html">Next-&gt;</a></p><div class="grid-container-2-650px"><div class="grid-item"><p>In the <a href="/getting-started/index.html">Getting Started with GendL</a> tutorial, the <a href="/getting-started/object-definition/index.html">Defining Objects</a> topic covered the general syntax for defining objects. In that topic we covered <span class="object-keyword">:input-slots</span>, <span class="object-keyword">:computed-slots</span>, <span class="object-keyword">:functions</span> and <span class="object-keyword">:objects</span>. In the previous topic we also covered <span class="object-keyword">:trickle-down-slots</span>. In this topic we will look at <span class="object-keyword">:hidden-objects</span> and the <span class="general-keyword">:pseudo-inputs</span> input to both <span class="object-keyword">:objects</span> and <span class="object-keyword">:hidden-objects</span></p><h3>:hidden-objects</h3><p>We actually introduced <span class="object-keyword">:hidden-objects</span> in the <a href="/getting-started/truss-example/index.html">Truss Example</a> topic of the <a href="/getting-started/index.html">Getting Started with GendL</a> tutorial</p><p>The most obvious outcome of using <span class="object-keyword">:hidden-objects</span> is that child objects defined in this way don't show up in the Geysr tree structure. However there are other effects<ul><li><span class="object-keyword">:hidden-objects</span> are omitted from the list returned by (list-elements (the))</li><li><span class="object-keyword">:hidden-objects</span> are not included in the messages (the children) or (the safe-children)</li></ul><span class="object-keyword">:hidden-objects</span>, however, can be accessed using referencing chains in exactly the same way that a normal child obejct is referenced. To list all <span class="object-keyword">hidden-objects</span> we need to use the message <span class="slot">(the hidden-children)</span><div class="code-example"><pre><span class="code" style="margin-left: 0px;">(define-object hidden-objects (base-object)</span><span class="code" style="margin-left: 14px;">:computed-slots</span><span class="code" style="margin-left: 14px;">((box-volume (the (my-box 0) volume))</span><span class="code" style="margin-left: 21px;">(hidden-box-volume (the (my-hidden-box 0) volume))</span><span class="code" style="margin-left: 21px;">(object-list (list-elements (the)))</span><span class="code" style="margin-left: 21px;">(all-objects (append (the children)</span><span class="code" style="margin-left: 133px;">(the hidden-children))))</span><span class="code" style="margin-left: 0px;"></span><span class="code" style="margin-left: 14px;">:objects</span><span class="code" style="margin-left: 14px;">((my-box :type 'box</span><span class="code" style="margin-left: 77px;">:length 2</span><span class="code" style="margin-left: 77px;">:width 2</span><span class="code" style="margin-left: 77px;">:height 2</span><span class="code" style="margin-left: 77px;">:sequence (:size 3)))</span><span class="code" style="margin-left: 14px;">:hidden-objects</span><span class="code" style="margin-left: 14px;">((my-hidden-box :type 'box</span><span class="code" style="margin-left: 126px;">:length 3</span><span class="code" style="margin-left: 126px;">:width 3</span><span class="code" style="margin-left: 126px;">:height 3</span><span class="code" style="margin-left: 126px;">:sequence (:size 2))))</span></pre></div><image src="/t5-images/hidden-objects.png" style="margin: 5px 0 0 3% ;width: auto; height: 200px;"></image><div class="repl-example"><pre><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(make-self 'hidden-objects)</span></p><span class="output">#&#60;HIDDEN-OBJECTS #x21043FB8BD></span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(the box-volume)</span></p><span class="output">8</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(the hidden-box-volume)</span></p><span class="output">27</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(the children)</span></p><span class="output">(#&#60;BOX #x21044894DD> #&#60;BOX #x210448B6ED> #&#60;BOX #x210448B2CD>)</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(object-list)</span></p><span class="output">(#&#60;BOX #x21044894DD> #&#60;BOX #x210448B6ED> #&#60;BOX #x210448B2CD>)</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(the hidden-children)</span></p><span class="output">(#&#60;BOX #x21044876DD> #&#60;BOX #x2104494BAD>)</span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(the all-objects)</span></p><span class="output">(#&#60;BOX #x21044894DD> #&#60;BOX #x210448B6ED> #&#60;BOX #x210448B2CD>)</span><span class="output"> #&#60;BOX #x21044876DD> #&#60;BOX #x2104494BAD>)</span></pre></div></p><h3>:pseudo-inputs</h3><p><span class="general-keyword">:pseudo-inputs</span> enable us to pass a value into an object without the slot being defined as an <span class="object-keyword">:input-slot</span>. This may seem a curious requirement, as if its not defined as an <span class="object-keyword">:input-slot</span> we won't be able to use it in <span class="object-keyword">:computed-slots</span> or pass forn to further child <span class="object-keyword">:objects</span>. But it actually turns out to be really usefl if we want to make a slight customisation to an object without needing to define a new object. It may be that we wish to perform a calculation and attach the value to that object, or simply we want to 'tag' an object with some value. For example, the GendL <span class="object">cylinder</span> wifeframe object doesn't support a message <span class="slot">volume</span>, but say we have a number of objects that do, and a cylinder, and we want to process the volumes using <span class="function">mapcar</span>.<div class="code-example"><pre><span class="code" style="margin-left: 0px;">(define-object pseudo-inputs (base-object)</span><span class="code" style="margin-left: 14px;">:computed-slots</span><span class="code" style="margin-left: 14px;">((volumes (mapcar #'(lambda(a) (theo a volume)) (the children))))</span><span class="code" style="margin-left: 0px;"></span><span class="code" style="margin-left: 14px;">:objects</span><span class="code" style="margin-left: 14px;">((my-box :type 'box</span><span class="code" style="margin-left: 77px;">:length 2</span><span class="code" style="margin-left: 77px;">:width 3</span><span class="code" style="margin-left: 77px;">:height 4</span><span class="code" style="margin-left: 77px;">:sequence (:size 3))</span><span class="code" style="margin-left: 14px;">(my-cylinder :type 'cylinder</span><span class="code" style="margin-left: 105px;">:radius 2</span><span class="code" style="margin-left: 105px;">:height 6</span><span class="code" style="margin-left: 105px;">:pseudo-inputs (:volume)</span><span class="code" style="margin-left: 105px;">:volume (div (* (the-child height)</span><span class="code" style="margin-left: 217px;">(expt (the-child radius) 2)</span><span class="code" style="margin-left: 217px;">pi) 2))))</span></pre></div>In this code, we have an input <span class="slot">volume</span> defined for <span class="object">cylinder</span>, but <span class="object">cylinder</span> doesb't have a corresponding <span class="object-keyword">:input-slot</span>, so we have identified this input as a <span class="general-keyword">:pseudo-input</span>. Note that, if we don't define<span class="slot">volume</span> as a <span class="general-keyword">pseudo-input</span>, the code will still work but we will get a compiler warning. Whilst this is the case, its good practice from a coding perspective to identify such slots correctly<div class="repl-example"><pre><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(make-self 'pseudo-inputs)</span></p><span class="output">#&#60;PSEUDO-INPUTS #x210485A1BD></span><p style="display: inline;"><span class="prompt" style="display: inline;">GDL-USER>&nbsp;</span><span class="command" style="display: inline;">(the volumes)</span></p><span class="output">(37.69911184307752 24 24 24)</span></pre></div></p></div><div class="grid-item"><h2>Resources</h2><table><tr><td><a href="/t5-resources/hidden-objects.lisp"><img src="/common-images/lisp-file.png" style="width: 40px; height: auto;" /></a></td><td><a href="/t5-resources/hidden-objects.lisp">hidden-objects.lisp</a></td></tr><tr><td><a href="/t5-resources/pseudo-inputs.lisp"><img src="/common-images/lisp-file.png" style="width: 40px; height: auto;" /></a></td><td><a href="/t5-resources/pseudo-inputs.lisp">pseudo-inputs.lisp</a></td></tr></table></div></div></div></div></div></body></html>