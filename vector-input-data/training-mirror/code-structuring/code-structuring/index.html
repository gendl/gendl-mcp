<!DOCTYPE HTML><html lang="en"><head><title>Code Structuring</title><meta charset="UTF-8" /><link rel="icon" type="image/png" href="/gorn.png" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="stylesheet" href="/css/training-style.css" /><script src="/static/3rdpty/x3dom/x3dom.js" id="x3dom_script"></script><script id="svg-panzoom" src="/static/3rdpty/svgpanzoom/svg-pan-zoom.min.js"></script><script>
var gdliid = '/shared';</script><script src="/static/gwl/js/gdlajax1595.js"></script></head><body><div class="container mx-auto"><div class="main-page-item"><div class="mt-1 ml-2 mr-5"><h2>Code Structuring</h2><p><a class="text-red-500" href="/code-structuring/package-tips/index.html">&lt;-Previous</a><span class="font-bold"> | </span><a class="text-blue-500" href="/code-structuring/index.html">^UP^</a><span class="font-bold"> | </span><a class="text-green-500" href="/code-structuring/loading-code/index.html">Next-&gt;</a></p><div class="main-page-container" style="grid-template-columns: 500px auto;"><div class="main-page-item"><p>These are just recomendations based on experience and convenience</p><h3>Source Code Files</h3><ul><li>If the code is in a discrete package, ensure there is a separate package.lisp file to define the package</li><li>Where possible or feasible one object/function per file. (<em>Whilst you can open the file containing an object or function code from in emacs by positioning the cursor in the object/function name and using <b>Meta-.</b>, the one object/function per file goal does make life easier)</em></li></ul></div><div class="main-page-item"></div><div class="main-page-item"><h3>Directory organisation</h3><ul><li>Where possible and practical arrange the directory structure so that it mirrors the applications object structure</li><li>Strike a balance between granularity - some logical separation is good, but avoid separating too much</li><li>For each module create a <em><b>source</b></em> directory for the source code files</li><li>In larger projects define a <em><b>common</b></em> folder for code that is shared between the other modules</li></ul><p>In the example on the right, the airplane/source directory would be used for the source code assembling the different modules into an airplane. The common directory would be used for shared objects/functions and the main application code would be stored in the source directories of each module - engine, wing, fuselage. Some considertion ought to be given at this stage to the package design; a single :airplane package may be adequate or the packages could be broken down by module, each of the sub-modules using airplane-common and the top level airplane package using all of the sub-module packages.A bit of time spent at the outset of a project is usuually time well spent, although the result doesn't need to be perfect since it is easy enough to change as the project/application evolves</p><p>The suggested codebase structure is also compatible with cl-lite, GendL's code loading utility which is discussed in the next topic</p></div><div class="main-page-item"><img src="/t3-images/codebase.png" style="width: auto; height: 300px; margin: 1em 0 1em 3% ;" /></div></div></div></div></div></body></html>