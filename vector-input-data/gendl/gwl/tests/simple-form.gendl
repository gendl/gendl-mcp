(in-package :gwl-user)

(define-object simple-form (base-ajax-sheet)

  :computed-slots ((main-sheet-body
		    (with-cl-who-string ()
		      (str (the development-links))
		      (:p (:h2 "Simple Form Kṛṣṇa Test"))
		      (:p (str (the form-section main-div))))))


  
  :objects
  ((form-section :type 'sheet-section
		 :inner-html (with-cl-who-string ()
			       (with-html-form (:cl-who? t)
				 (:p (str (the name-entry form-control-string)))
				 ((:input :id "ok" :type :submit :value "ok"))
				 #+nil
				 ((:input :id "ok" :type :submit :value "ok"
					  :onclick (the (gdl-ajax-call :form-controls (list (the name-entry)))))))))
   
   (name-entry :type 'text-form-control
	       :id "name"
	       :default "Radha Kṛṣṇa")))



(publish-shared 'simple-form :path "/simple-form")

(publish-gwl-app "/sf" 'simple-form)
