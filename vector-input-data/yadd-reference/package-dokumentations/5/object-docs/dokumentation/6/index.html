<!DOCTYPE HTML><html lang="en"><head><title>GendL Application - BASE-VIEW</title><meta charset="UTF-8" /><link rel="icon" type="image/x-icon" href="../../../../../static/gwl/images/favicon.ico" /><link href="../../../../../static/gwl/style/top.css" rel="stylesheet" type="text/css" /><div id="KDpTVEFOREFSRC1KQVZBU0NSSVBULVNFQ1RJT04gKDpET0tVTUVOVEFUSU9OIDYpIDpPQkpFQ1QtRE9DUyAoOlBBQ0tBR0UtRE9LVU1FTlRBVElPTlMgNSkp">
<script>
var gdliid = '/yadd';
</script>
<script src="../../../../../static/gwl/js/gdlajax1595.js"></script></div></head><body><div id="KDpNQUlOLVNFQ1RJT04gKDpET0tVTUVOVEFUSU9OIDYpIDpPQkpFQ1QtRE9DUyAoOlBBQ0tBR0UtRE9LVU1FTlRBVElPTlMgNSkp"><p><a href="../../../index.html">Package Documentation</a></p><table BGCOLOR="#eeeeff" WIDTH="100%" BORDER=0 CELLPADDING=1 CELLSPACING=0><tr><td><b><font SIZE="+1">Object: BASE-VIEW<font SIZE=-1><i> (The :GEOM-BASE Package)</i></font></font></b></td></tr><tr><td><b>Mixins: </b><a HREF="../../../../../master-index-grouped/751/index.html">BASE-OBJECT</a></td></tr></table><p><h3>Description</h3>Generic container object for displaying a scaled transformed view of geometric or 
text-based objects. <tt>Base-view</tt> can be used by itself or as a child of a <tt>base-drawing</tt>

In a GWL application-mixin, you can include an object of this type in the ui-display-list-leaves.

For the PDF output-format, you can also use the cad-output output-function to write the 
view as a PDF document. 

Since base-view is inherently a 2D object, only the top view (getf *standard-views* :top) 
makes sense for viewing it.</p><table WIDTH="100%" BORDER=0 CELLPADDING=1 CELLSPACING=0><tr BGCOLOR="#eeeeff"><td COLSPAN=2><b><font SIZE="+1">Input Slots (optional)</font></b></td></tr><tr><td><br></td></tr><tr><td ALIGN="LEFT"><b>ANNOTATION-OBJECTS</b> <i>list of gdl objects</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> These objects will be displayed in each view by default, with no scaling or transform (i.e. they are in Drawing space.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>BORDER-BOX?</b> <i>boolean</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Determines whether a rectangular border box is drawn around the view,
with the view's length and width. Defaults to nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>BOUNDING-BOX</b> [<i>from <a href="../../../../../master-index-grouped/751/index.html">BASE-OBJECT</a></i>]  <i>list of two 3d points</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> The left front bottom and right rear top corners, in global coordinates,
of the rectangular volume bounding the tree of geometric objects rooted at this object.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>CENTER</b> <i>3d-point</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Center of the view box. Specify this or corner, not both.
</p><dl><dt><i>note:</i></dt><dd>that the center is no longer defaulting (so that it can self-compute properly when corner 
is specified), so it is necessary to explicitly give either start or center for base-view.
</dd></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>CORNER</b> <i>3d-point</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Top left (i.e. rear left from top view) of the view box. Specify this or center, not both.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>FRONT-MARGIN</b> <i>number in drawing scale (e</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p>g. points). Amount of margin on front and rear
of page when <tt>view-scale</tt> is to be computed automatically. Defaults to 25.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>HIDDEN?</b> [<i>from <a href="../../../../../master-index-grouped/654/index.html">VANILLA-MIXIN*</a></i>]  <i>boolean</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Indicates whether the object should effectively be a hidden-object even if specified in :objects. Default is nil.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>IMAGE-FILE</b> [<i>from <a href="../../../../../master-index-grouped/751/index.html">BASE-OBJECT</a></i>]  <i>pathname or string</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Points to a pre-existing image file to be displayed instead of actual geometry for this object. Defaults to nil
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>IMMUNE-OBJECTS</b> <i>list of gdl objects</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> These objects are immune from view scaling and transform computations and so can freely refer
to the view-scale, view-center, and other view information for self-scaling views. Defaults to NIL.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>LEFT-MARGIN</b> <i>number in drawing scale (e</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p>g. points). Amount of margin on left and right
of page when <tt>view-scale</tt> is to be computed automatically. Defaults to 25.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>LOCAL-BOX</b> [<i>from <a href="../../../../../master-index-grouped/751/index.html">BASE-OBJECT</a></i>]  <i>list of two 3d points</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> The left front bottom and right rear top corners, in global coordinates,
of the rectangular volume bounding this geometric object.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>OBJECT-ROOTS</b> <i>list of gdl objects</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> The leaves from each of these objects will be displayed in each view by default.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>OBJECTS</b> <i>list of gdl objects</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> These objects will be displayed in each view by default.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>OBLIQUENESS</b> [<i>from <a href="../../../../../master-index-grouped/751/index.html">BASE-OBJECT</a></i>]  <i>3x3 orthonormal matrix of double-float numbers</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> This is synonymous with the <tt>orientation</tt>.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ONCLICK-FUNCTION</b> [<i>from <a href="../../../../../master-index-grouped/751/index.html">BASE-OBJECT</a></i>]  <i>lambda function of zero arguments, or nil</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> If non-nil, this
function gets invoked when the user clicks the object in graphics
front-ends which support this functionality, e.g. SVG/Raphael and X3DOM.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>PROJECTION-VECTOR</b> <i>3d unitized vector</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Direction of camera pointing to model (the object-roots and/or the objects) to create
this view. The view is automatically ``twisted''about this vector to result in ``up'' being as close as
possible to the Z vector, unless this vector is parallel to the Z vector in which case ``up'' is taken
to be the Y (rear) vector. This vector is normally taken from the <tt>*standard-views*</tt> built-in GDL
parameter. Defaults to <tt>(getf *standard-views* :top)</tt>, which is the vector [0, 0, 1].
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ROOT</b> [<i>from <a href="../../../../../master-index-grouped/654/index.html">VANILLA-MIXIN*</a></i>]  <i>gdl instance</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> The root-level node in this object's ``tree'' (instance hierarchy).
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>SAFE-CHILDREN</b> [<i>from <a href="../../../../../master-index-grouped/654/index.html">VANILLA-MIXIN*</a></i>]  <i>list of gdl instances</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> All objects from the :objects specification, including elements of sequences
as flat lists. Any children which throw errors come back as a plist with error information
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>SNAP-TO</b> <i>3d vector</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> For a top view, this vector specifies the direction that the rear of
the box should be facing. Defaults to <tt>*nominal-y-vector*</tt>.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>STRINGS-FOR-DISPLAY</b> [<i>from <a href="../../../../../master-index-grouped/654/index.html">VANILLA-MIXIN*</a></i>]  <i>string or list of strings</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Determines how the name of objects of
this type will be printed in most places.  This defaults to the
name-for-display (generally the part's name as specified in its
parent), followed by an index number if the part is an element of a
sequence.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>VIEW-CENTER</b> <i>3d point in model space</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Point relative to each object's center to use as center of the view.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>VIEW-SCALE</b> <i>number</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Ratio of drawing scale (in points) to model scale for this view. Defaults to being auto-computed.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>VISIBLE-CHILDREN</b> [<i>from <a href="../../../../../master-index-grouped/654/index.html">VANILLA-MIXIN*</a></i>]  <i>list of gdl instances</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Additional objects to display in Tatu
tree. Typically this would be a subset of
hidden-children. Defaults to NIL.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><br></tr></table><table WIDTH="100%" BORDER=0 CELLPADDING=1 CELLSPACING=0><tr BGCOLOR="#eeeeff"><td COLSPAN=2><b><font SIZE="+1">Input Slots (optional, defaulting)</font></b></td></tr><tr><td><br></td></tr><tr><td ALIGN="LEFT"><b>DISPLAY-CONTROLS</b> [<i>from <a href="../../../../../master-index-grouped/751/index.html">BASE-OBJECT</a></i>]  <i>plist</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> May contain keywords and values indicating display characteristics for
this object. The following keywords are recognized currently:

<dl>
<dt>:color</dt>
<dd> color keyword from the *color-table* parameter, or an HTML-style hexidecimal
RGB string value, e.g. "#FFFFFF" for pure white. Defaults to :black.</dd>
<dt>:line-thickness</dt>
<dd> an integer, defaulting to 1, indicating relative line thickness for wireframe
representations of this object.</dd>
<dt>:dash-pattern</dt>
<dd>(currently PDF/PNG/JPEG only). This is a list of two or three numbers which indicate the length,
in pixels, of the dashes and blank spaces in a dashed line. The optional third number
indicates how far into the line or curve to start the dash pattern.</dd>
</dl>
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>HEIGHT</b> [<i>from <a href="../../../../../master-index-grouped/751/index.html">BASE-OBJECT</a></i>]  <i>number</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Z-axis dimension of the reference box. Defaults to zero.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>LENGTH</b> [<i>from <a href="../../../../../master-index-grouped/751/index.html">BASE-OBJECT</a></i>]  <i>number</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Y-axis dimension of the reference box. Defaults to zero.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>ORIENTATION</b> [<i>from <a href="../../../../../master-index-grouped/751/index.html">BASE-OBJECT</a></i>]  <i>3x3 matrix of double-float numbers</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Indicates the absolute Rotation Matrix used to create
the coordinate system of this object. This matrix is given in absolute terms (i.e. with
respect to the root's orientation), and is generally created with the alignment function.
It should be an <i>orthonormal</i> matrix, meaning each row is a vector with a magnitude
of one (1.0).
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>WIDTH</b> [<i>from <a href="../../../../../master-index-grouped/751/index.html">BASE-OBJECT</a></i>]  <i>number</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> X-axis dimension of the reference box. Defaults to zero.
</p><dl></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><br></tr></table><table WIDTH="100%" BORDER=0 CELLPADDING=1 CELLSPACING=0><tr BGCOLOR="#eeeeff"><td COLSPAN=2><b><font SIZE="+1">GDL Functions</font></b></td></tr><tr><td><br></td></tr><tr><td ALIGN="LEFT"><b>MODEL-POINT</b> <i>3d point</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Takes point in view coordinates and returns corresponding point in model coordinates.
</p><dl><dt><i>arguments:</i></dt><dd><dl><small><dt><b>view-point</b> <i>3D Point</i></dt><dd> Point in view coordinates</dd></small></dl></dd></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><td ALIGN="LEFT"><b>VIEW-POINT</b> <i>3d point</i></td><td ALIGN="RIGHT"><br></td></tr><tr><td COLSPAN=2><p> Takes point in model coordinates and returns corresponding point in view coordinates.
</p><dl><dt><i>arguments:</i></dt><dd><dl><small><dt><b>model-point</b> <i>3D Point</i></dt><dd> Point in model coordinates</dd></small></dl></dd></dl></td></tr><tr><td COLSPAN=2><br></td></tr><tr><br></tr></table><p><h3>Examples</h3><pre>
                 
 (in-package :gdl-user)

 (define-object box-with-two-viewed-drawing (base-object)
  
   :objects
   ((drawing :type 'two-viewed-drawing
             :objects-to-draw (list (the box) (the length-dim)))
    
    (length-dim :type 'horizontal-dimension
                :hidden? t
                :start-point (the box (vertex :rear :top :left))
                :end-point (the box (vertex :rear :top :right)))
   
    (box :type 'box
         :hidden? t
         :length 5 :width 10 :height 15)))

 (define-object two-viewed-drawing (base-drawing)
   
   :input-slots (objects-to-draw)
   
   :objects
  
   ((main-view :type 'base-view
               :projection-vector (getf *standard-views* :trimetric)
               :length (half (the length))
               :center (translate (the center)
                                  :rear (half (the-child length)))
               :objects (the objects-to-draw))
   
    (top-view :type 'base-view
              :projection-vector (getf *standard-views* :top)
              :length (* 0.30 (the length))
              :objects (the objects-to-draw))))

   (generate-sample-drawing :objects 
    (the-object (make-object 'box-with-two-viewed-drawing) drawing top-view))
 
 </pre></p><table CELLPADDING=1><tr BGCOLOR="#cccccc"><td><img SRC="../../../../../images/G40668.png"></td></tr></table><p><a href="../../../index.html">Package Documentation</a></p><p><p class="copyrightFooter">Copyright &copy; 2025 <a href="http://www.genworks.com">Genworks</a><sup>&reg;</sup> <a href="http://www.genworks.com">International</a>. All rights reserved. <i><small>Genworks Build: 1598p001</small></i></p></p></div></body></html>